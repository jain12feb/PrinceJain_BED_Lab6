<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns="http://www.w3.org/1999/xhtml">

<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
	integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
	crossorigin="anonymous">

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/css/bootstrap.min.css"
	integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
	crossorigin="anonymous">

<link type="text/css" th:href="@{/css/styles.css}"
	href="/css/styles.css" rel="stylesheet" />

<title>College Debate - Home</title>
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" th:href="@{/home}"> <svg class="mb-2"
				stroke="currentColor" fill="currentColor" stroke-width="0"
				viewBox="0 0 640 512" height="1em" width="1em"
				xmlns="http://www.w3.org/2000/svg">
            <path
					d="M48 0C21.5 0 0 21.5 0 48V464c0 26.5 21.5 48 48 48h96V432c0-26.5 21.5-48 48-48s48 21.5 48 48v80h89.9c-6.3-10.2-9.9-22.2-9.9-35.1c0-46.9 25.8-87.8 64-109.2V271.8 48c0-26.5-21.5-48-48-48H48zM64 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V240zm112-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V240c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V240zM80 96h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V112zM272 96h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16zM576 272a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM352 477.1c0 19.3 15.6 34.9 34.9 34.9H605.1c19.3 0 34.9-15.6 34.9-34.9c0-51.4-41.7-93.1-93.1-93.1H445.1c-51.4 0-93.1 41.7-93.1 93.1z"></path>
        </svg> College Debate
		</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse justify-content-between"
			id="navbarSupportedContent">

			<ul class="navbar-nav">
				<li class="nav-item active"><a class="nav-link"
					th:href="@{/home}">All Students <span class="sr-only">(current)</span>
				</a></li>
				<th:block th:if="${roles.contains('ADMIN')}">
					<li class="nav-item active"><a class="nav-link"
						th:href="@{/add-student-form}">Add Student <span
							class="sr-only">(current)</span></a></li>
				</th:block>
			</ul>
			<div class="dropdown ">
				<button class="btn btn-secondary dropdown-toggle" type="button"
					data-toggle="dropdown" data-display="static" aria-expanded="false">
					Hi, <span th:text="${fullname}"></span>
				</button>
				<div class="dropdown-menu" aria-labelledby="navbarDropdown">
					<form class="form-inline my-2 my-lg-0" action="/logout"
						method="post">
						<button class="dropdown-item btn btn-outline-light my-2 my-sm-0"
							type="submit">Logout</button>
					</form>
				</div>
			</div>
		</div>
	</nav>
	<div class="container">
		<h3 class="mt-2 text-center">Registered Students Records</h3>
		<hr>
		<div class="d-flex justify-content-between mb-3">
			<form th:action="@{'/home?pageNo=' + 0 + '&search=' + ${search}}"
				method="GET" class="input-group input-group-sm w-50 mr-1">
				<input id="search" name="search" type="text" class="form-control"
					aria-label="Sizing example input"
					aria-describedby="inputGroup-sizing-sm"
					placeholder="Search by firstname, lastname or email">
				<div class="input-group-append">
					<div>
						<button class="btn btn-outline-primary btn-sm" type="submit">
							Search
							<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15"
								fill="currentColor" class="bi bi-search ml-1"
								viewBox="0 0 15 15">
								<path
									d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
							</svg>
						</button>
					</div>
				</div>
			</form>
			<span th:if="${roles.contains('ADMIN')}" class="btn"
				onclick="printTable()"> <svg fill="#000000" height="25px"
					width="25px" version="1.1" id="Layer_1"
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 504 504"
					xml:space="preserve">
					<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
					<g id="SVGRepo_tracerCarrier" stroke-linecap="round"
						stroke-linejoin="round"></g>
					<g id="SVGRepo_iconCarrier"> <g> <g> <path
						d="M350.28,364.128H153.64c-4.352,0-7.868,3.524-7.868,7.868s3.516,7.868,7.868,7.868h196.64c4.344,0,7.872-3.52,7.872-7.868 C358.152,367.652,354.624,364.128,350.28,364.128z"></path> </g> </g> <g> <g> <path
						d="M350.28,403.472h-19.72c-4.348,0-7.868,3.524-7.868,7.872c0,4.344,3.52,7.868,7.868,7.868h19.72 c4.344,0,7.872-3.524,7.872-7.868C358.152,406.996,354.624,403.472,350.28,403.472z"></path> </g> </g> <g> <g> <path
						d="M294.96,403.468H153.64c-4.352,0-7.868,3.524-7.868,7.872c0,4.344,3.516,7.868,7.868,7.868h141.32 c4.348,0,7.868-3.524,7.868-7.868C302.828,406.992,299.308,403.468,294.96,403.468z"></path> </g> </g> <g> <g> <path
						d="M232.224,324.784H153.64c-4.352,0-7.868,3.528-7.868,7.868c0,4.348,3.516,7.868,7.868,7.868h78.584 c4.344,0,7.868-3.52,7.868-7.868C240.092,328.312,236.568,324.784,232.224,324.784z"></path> </g> </g> <g> <g> <path
						d="M350.28,324.784h-78.488c-4.348,0-7.872,3.528-7.872,7.868c0,4.348,3.524,7.868,7.872,7.868h78.488 c4.344,0,7.872-3.52,7.872-7.868C358.152,328.312,354.624,324.784,350.28,324.784z"></path> </g> </g> <g> <g> <path
						d="M468.22,151.676h-62.78V51.236c0-4.344-3.672-5.788-8.016-5.788H106.472c-4.348,0-7.908,1.444-7.908,5.788v100.44H36.04 c-19.732,0-35.784,15.06-35.784,34.784L0,339.596c0,19.732,16.052,36.332,35.788,36.332h62.776v72.788 c0,4.344,3.46,9.836,7.812,9.836h290.996c4.352,0,8.072-5.492,8.072-9.836v-72.788h62.524c19.732,0,35.78-17.104,35.78-36.828 L504,186.992C504,167.256,487.948,151.676,468.22,151.676z M55.172,263.804c-8.7,0-15.74-7.044-15.74-15.74 c0-8.692,7.036-15.736,15.74-15.736c8.688,0,15.736,7.044,15.736,15.736C70.912,256.756,63.864,263.804,55.172,263.804z M90.636,255.932c-4.352,0-7.868-3.524-7.868-7.868s3.516-7.868,7.868-7.868c4.34,0,7.868,3.524,7.868,7.868 C98.504,252.412,94.976,255.932,90.636,255.932z M389.7,61.184v133.768H114.3V61.184H389.7z M389.7,442.816H114.3v-141.64h275.4 V442.816z M397.368,257.9h-39.252c-4.348,0-7.872-3.524-7.872-7.868s3.524-7.868,7.872-7.868h39.252 c4.352,0,7.872,3.524,7.872,7.868C405.24,254.376,401.72,257.9,397.368,257.9z M431.628,255.932c-4.348,0-7.868-3.524-7.868-7.868 s3.52-7.868,7.868-7.868c4.34,0,7.872,3.524,7.872,7.868C439.5,252.412,435.968,255.932,431.628,255.932z"></path> </g> </g> </g></svg>
			</span>
		</div>

		<table class="table table-sm table-bordered table-striped">
			<thead class="thead-dark">
				<tr>
					<th class="pointer" scope="col" onclick="sortTable(0)"># <span
						class="sort-icon asc"></span>
					</th>
					<th class="pointer" scope="col" onclick="sortTable(1)">First
						Name <span class="sort-icon asc"></span>
					</th>
					<th class="pointer" scope="col" onclick="sortTable(2)">Last
						Name <span class="sort-icon asc"></span>
					</th>
					<th class="pointer" scope="col" onclick="sortTable(3)">Email <span
						class="sort-icon asc"></span>
					</th>
					<th class="pointer" scope="col" onclick="sortTable(4)">Course
						<span class="sort-icon asc"></span>
					</th>
					<th class="pointer" scope="col" onclick="sortTable(5)">Gender
						<span class="sort-icon asc"></span>
					</th>
					<th class="pointer" scope="col" onclick="sortTable(6)">Country
						<span class="sort-icon asc"></span>
					</th>
					<th th:if="${roles.contains('ADMIN')}" scope="col">Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr th:if="${students.size() > 0}" th:each="student : ${students}">
					<!-- view modal -->
					<div th:if="${roles.contains('ADMIN')}" class="modal fade"
						th:id="'viewModal' + ${student.id}" tabindex="-1" role="dialog"
						aria-labelledby="viewModalLabel" aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header bg-info text-white">
									<h4 class="modal-title" id="viewModalLabel">View Student</h4>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<div class="container-fluid">
										<div class="row">
											<div class="col-md-4 font-weight-bold">Name:</div>
											<div class="col-md-8"
												th:text="${student.fName} + ' ' + ${student.lName}"></div>
										</div>
										<hr>
										<div class="row">
											<div class="col-md-4 font-weight-bold">Email:</div>
											<div class="col-md-8" th:text="${student.email}"></div>
										</div>
										<hr>
										<div class="row">
											<div class="col-md-4 font-weight-bold">Gender:</div>
											<div class="col-md-8"
												th:text="${#strings.capitalize(student.gender)}"></div>
										</div>
										<hr>
										<div class="row">
											<div class="col-md-4 font-weight-bold">Course:</div>
											<div class="col-md-8" th:text="${student.course}"></div>
										</div>
										<hr>
										<div class="row">
											<div class="col-md-4 font-weight-bold">Country:</div>
											<div class="col-md-8" th:text="${student.country}"></div>
										</div>
									</div>
								</div>
								<div class="modal-footer">
									<a th:href="@{/update/{id}(id=${student.id})}"
										class="btn btn-success">Edit</a>
									<button type="button" class="btn btn-danger"
										data-toggle="modal"
										th:data-target="'#deleteModal' + ${student.id}"
										data-target="#deleteModal">Delete</button>
									<button type="button" class="btn btn-secondary"
										data-dismiss="modal">Close</button>
								</div>
							</div>
						</div>
					</div>

					<!-- delete modal -->
					<div th:if="${roles.contains('ADMIN')}" class="modal fade"
						th:id="'deleteModal' + ${student.id}" tabindex="-1" role="dialog"
						aria-labelledby="deleteModalLabel" aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header bg-danger text-white">
									<h4 class="modal-title" id="deleteModalLabel">Are you sure
										you want to delete?</h4>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-footer">
									<form th:action="@{/delete/{id}(id=${student.id})}"
										method="GET">
										<input type="hidden" name="id" th:value="${student.id}" />
										<button type="submit" class="btn btn-danger">Yes!
											Delete it</button>
									</form>
									<button type="button" class="btn btn-secondary"
										data-dismiss="modal">Keep it</button>
								</div>
							</div>
						</div>
					</div>

					<td scope="row" class="h6" th:text="${student.id}" />
					<td scope="row" class="h6" th:text="${student.fName}" />
					<td scope="row" class="h6" th:text="${student.lName}" />
					<td scope="row" class="h6" th:text="${student.email}" />
					<td scope="row" class="h6" th:text="${student.course}" />
					<td scope="row" class="h6"
						th:text="${#strings.capitalize(student.gender)}" />
					<td scope="row" class="h6" th:text="${student.country}" />
					<td th:if="${roles.contains('ADMIN')}" scope="row">
						<div class="btn-group" role="group" aria-label="Basic example">
							<!-- edit button -->
							<a th:href="@{/update/{id}(id=${student.id})}"
								class="btn text-success"> <svg
									xmlns="http://www.w3.org/2000/svg" width="24" height="24"
									fill="currentColor" class="bi bi-pencil-square"
									viewBox="0 0 15 15">
											<path
										d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
											<path fill-rule="evenodd"
										d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z" />
										</svg>
							</a>
							<!-- delete button -->
							<button type="button" class="btn text-danger" data-toggle="modal"
								th:attr="data-target='#deleteModal'+${student.id}"
								data-target="#deleteModal">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
									fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
										<path
										d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z" />
										<path
										d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z" />
									</svg>
							</button>
							<!-- view button -->
							<button type="button" class="btn text-primary"
								data-toggle="modal"
								th:attr="data-target='#viewModal'+${student.id}"
								data-target="#viewModal">
								<svg height="24" width="24" xmlns="http://www.w3.org/2000/svg"
									fill="currentColor" viewBox="0 0 1.26 1.26"
									xml:space="preserve">
										<path
										d="M.459.603c0 .093.078.171.171.171S.801.696.801.603.723.432.63.432.459.51.459.603m.243.369C.903.927 1.215.66 1.215.66S.984.3.675.261C.657.258.597.258.585.258c-.3.03-.54.411-.54.411s.261.258.51.297a.4.4 0 0 0 .147.006M.333.621C.333.465.465.339.63.339s.297.126.297.282S.795.9.63.9.333.774.333.621" /></svg>
							</button>
						</div>
					</td>

				</tr>
				<tr th:unless="${students.size() > 0}">
					<td scope="row" colspan="6" class="h6 text-center"><svg
							width="30px" height="30px" viewBox="0 0 64 64"
							xmlns="http://www.w3.org/2000/svg" stroke-width="3"
							stroke="#000000" fill="none">
							<polyline
								points="34.48 54.28 11.06 54.28 11.06 18.61 23.02 5.75 48.67 5.75 48.67 39.42" />
							<polyline points="23.04 5.75 23.02 18.61 11.06 18.61" />
							<line x1="16.21" y1="45.68" x2="28.22" y2="45.68" />
							<line x1="16.21" y1="39.15" x2="31.22" y2="39.15" />
							<line x1="16.21" y1="33.05" x2="43.22" y2="33.05" />
							<line x1="16.21" y1="26.95" x2="43.22" y2="26.95" />
							<circle cx="42.92" cy="48.24" r="10.01" stroke-linecap="round" />
							<line x1="39.05" y1="44.36" x2="46.8" y2="52.11" />
							<line x1="39.05" y1="52.11" x2="46.8" y2="44.36" /></svg> No Students
						Found</td>
				</tr>
			</tbody>
		</table>
	</div>

	<th:block th:if="${totalUsers > pageSize}">
		<nav aria-label="Page navigation">
			<ul class="pagination justify-content-center">
				<li class="page-item"
					th:class="${currentPage == 0 ? 'disabled' : ''}"><a
					class="page-link" th:if="${currentPage != 0}"
					th:href="@{'/home?pageNo=' + 0 + '&search=' + ${search}}"
					aria-label="Start"> <span aria-hidden="true">&laquo;&laquo;</span>
						<span class="sr-only">Start</span>
				</a> <span class="page-link" th:if="${currentPage == 0}"
					aria-label="Start"> <span aria-hidden="true">&laquo;&laquo;</span>
						<span class="sr-only">Start</span>
				</span></li>
				<li class="page-item"
					th:class="${currentPage == 0 ? 'disabled' : ''}"><a
					class="page-link" th:if="${currentPage != 0}"
					th:href="@{'/home?pageNo=' + ${currentPage - 1} + '&search=' + ${search}}"
					aria-label="Previous"> <span aria-hidden="true">&laquo;</span>
						<span class="sr-only">Previous</span>
				</a> <span class="page-link" th:if="${currentPage == 0}"
					aria-label="Previous"> <span aria-hidden="true">&laquo;</span>
						<span class="sr-only">Previous</span>
				</span></li>
				<li th:each="pageNo : ${#numbers.sequence(0, totalPages - 1)}"
					th:class="${currentPage == pageNo ? 'page-item active' : 'page-item'}">
					<a class="page-link"
					th:href="@{'/home?pageNo=' + ${pageNo} + '&search=' + ${search}}"
					th:text="${pageNo + 1}"></a>
				</li>
				<li class="page-item"
					th:class="${currentPage == totalPages - 1 ? 'disabled' : ''}">
					<a class="page-link" th:if="${currentPage != totalPages - 1}"
					th:href="@{'/home?pageNo=' + ${currentPage + 1} + '&search=' + ${search}}"
					aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span
						class="sr-only">Next</span>
				</a> <span class="page-link" th:if="${currentPage == totalPages - 1}"
					aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span
						class="sr-only">Next</span>
				</span>
				</li>
				<li class="page-item"
					th:class="${currentPage == totalPages - 1 ? 'disabled' : ''}">
					<a class="page-link" th:if="${currentPage != totalPages - 1}"
					th:href="@{'/home?pageNo=' + ${totalPages - 1} + '&search=' + ${search}}"
					aria-label="End"> <span aria-hidden="true">&raquo;&raquo;</span>
						<span class="sr-only">End</span>
				</a> <span class="page-link" th:if="${currentPage == totalPages - 1}"
					aria-label="End"> <span aria-hidden="true">&raquo;&raquo;</span>
						<span class="sr-only">End</span>
				</span>
				</li>
			</ul>
		</nav>
	</th:block>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js"
		integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js"
		integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
		crossorigin="anonymous"></script>

	<script type="text/javascript" th:src="@{/js/script.js}"></script>

</body>

</html>